# Scripts/Cron Directory Organization

## 概要

このディレクトリには、Exchange Analytics システムの定期実行スクリプトが整理されています。2025 年 8 月 20 日の整理により、稼働中ファイルと非稼働ファイルが明確に分離されました。

## ディレクトリ構造

### 🟢 稼働中ファイル（8 ファイル）

基幹システムとして稼働中のファイルです。**絶対に移動・削除しないでください。**

```
scripts/cron/
├── continuous_processing_cron.py    # ヘルスチェック（稼働中）
├── daily_aggregator.py              # 日足集計（稼働中）
├── daily_report.py                  # 日次レポート（稼働中）
├── four_hour_aggregator.py          # 4時間足集計（稼働中）
├── hourly_aggregator.py             # 1時間足集計（稼働中）
├── integrated_ai_discord.py         # AI分析（稼働中）
├── simple_data_fetcher.py           # データ取得（稼働中）
└── weekly_report.py                 # 週次レポート（稼働中）
```

### 📁 整理されたフォルダ（9 フォルダ）

#### 🔴 レガシーファイル（4 フォルダ）

古いバージョンのファイルで、統合版に統合済みです。

- `technical_analysis_legacy/` - 基本テクニカル分析（6 ファイル）
- `ai_notification_legacy/` - 古い AI 通知（3 ファイル）
- `data_processing_legacy/` - 古いデータ処理（3 ファイル）
- `initialization_legacy/` - 古い初期化（1 ファイル）

#### 🟡 高度機能ファイル（4 フォルダ）

高度な機能を提供するファイルで、必要に応じて使用可能です。

- `advanced_technical/` - 高度テクニカル分析（5 ファイル）
- `advanced_ai/` - 高度 AI 機能（1 ファイル）
- `advanced_data/` - 高度データ処理（7 ファイル）
- `advanced_initialization/` - 高度初期化（4 ファイル）

#### 🔵 テストファイル（1 フォルダ）

テスト・デバッグ用のファイルです。

- `testing/` - テスト用（2 ファイル）

## 整理効果

### 📊 整理前後の比較

- **整理前**: 55 ファイル
- **整理後**: 8 ファイル（稼働中のみ）
- **総移動ファイル**: 32 ファイル
- **整理効果**: 85%削減

### 🎯 達成された目標

1. **基幹システム保護**: 稼働中ファイルは一切影響なし
2. **完全整理**: 機能別フォルダでの整理
3. **稼働継続確認**: 全 cron ジョブ正常動作
4. **安全性確保**: 全ファイルを復元可能

## 稼働中システムの確認

### ⏰ 現在の Crontab 設定

- **データ取得**: 5 分間隔（平日）
- **AI 分析**: 2 時間間隔（平日 8:00-2:00、土曜日 8:00-6:00）
- **集計処理**: 1 時間、4 時間、日次
- **レポート**: 日次・週次
- **監視**: ヘルスチェック

### 📈 ログファイル

- `simple_data_fetcher.log` - 28.6MB（稼働中）
- `integrated_ai_cron.log` - 559KB（稼働中）
- `continuous_processing_cron.log` - 52.1MB（稼働中）

## 注意事項

### ⚠️ 重要な注意点

1. **稼働中ファイル**: 絶対に移動・削除しない
2. **レガシーファイル**: 統合版に機能が統合済み
3. **高度機能ファイル**: 統合前に十分なテストが必要
4. **テストファイル**: 本番環境での使用は推奨されない

### 🔧 メンテナンス

- 各フォルダ内の README.md ファイルで詳細を確認
- 必要に応じてファイルの復元が可能
- 基幹システムへの影響を常に確認

## 更新履歴

- **2025-08-20**: 完全整理完了
- **2025-08-20**: 機能別フォルダ作成
- **2025-08-20**: README.md ファイル作成
