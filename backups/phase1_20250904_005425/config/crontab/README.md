# ЁЯУЛ Crontab Configuration Files

Exchange Analytics уВ╖уВ╣уГЖуГауБо crontab шинхоЪуГХуВбуВдуГлчобчРЖ

## ЁЯУБ уГЗуВгуГмуВпуГИуГкцзЛщАа

```
config/crontab/
тФЬтФАтФА example/        # уГЖуВ╣уГИуГ╗уВ╡уГ│уГЧуГлчФишинхоЪ
тФЬтФАтФА production/     # цЬмчХкщБЛчФишинхоЪ
тФЬтФАтФА docs/          # уГЙуВнуГеуГбуГ│уГИуГ╗уВмуВдуГЙ
тФФтФАтФА README.md      # уБУуБоуГХуВбуВдуГл
```

## ЁЯФз **example/** - уГЖуВ╣уГИчФишинхоЪ

| уГХуВбуВдуГл              | чФищАФ         | шкмцШО                       |
| --------------------- | ------------ | -------------------------- |
| `example_crontab.txt` | хЯ║цЬмуГЖуВ╣уГИ   | цЬАхИЭуБо cron хЛХф╜Ьчв║шкНчФи     |
| `test_crontab.txt`    | цйЯшГ╜уГЖуВ╣уГИ   | хРДуВ│уГ│уГЭуГ╝уГНуГ│уГИхЛХф╜ЬуГЖуВ╣уГИ |
| `crontab-example.txt` | уВ╡уГ│уГЧуГлшинхоЪ | шинхоЪцЦ╣ц│ХуБохПВшАГф╛Л           |

## ЁЯЪА **production/** - цЬмчХкшинхоЪ

| уГХуВбуВдуГл                          | чФищАФ                  | шкмцШО                                   |
| --------------------------------- | --------------------- | -------------------------------------- |
| `integrated_analysis_crontab.txt` | **ЁЯФЧ ч╡▒хРИчЫ╕щЦвхИЖцЮРчЙИ** | **щАЪш▓ичЫ╕щЦвхИЖцЮРуВ╖уВ╣уГЖуГахп╛х┐ЬуГ╗цЬАцЦ░цОихеи** |
| `integrated_simple_crontab.txt`   | ЁЯФЧ ч╡▒хРИхИЖцЮРч░бцШУчЙИ     | ч╡▒хРИчЫ╕щЦвхИЖцЮРуБош╗╜щЗПуГРуГ╝уВ╕уГзуГ│           |
| `production_crontab_final.txt`    | ЁЯОп х╛УцЭечЙИцЬАцЦ░шинхоЪ     | х╛УцЭеуВ╖уВ╣уГЖуГауБоцОихеишинхоЪя╝ИхПВшАГчФия╝Й       |
| `crontab_with_yahoo_finance.txt`  | Yahoo Finance ч╡▒хРИ    | уГЗуГ╝уВ┐уВ╜уГ╝уВ╣ф║МщЗНхМЦхп╛х┐ЬчЙИ               |
| `production_crontab.txt`          | хЯ║цЬмцЬмчХкшинхоЪ          | уВ╖уГ│уГЧуГлуБкхИЭцЬЯшинхоЪя╝ИхПВшАГчФия╝Й           |

### ЁЯУБ backup/ - х╗ГцнвуГХуВбуВдуГл

| уГХуВбуВдуГл                       | чРЖчФ▒               |
| ------------------------------ | ------------------ |
| `fixed_crontab.txt`            | final чЙИуБлч╡▒хРИц╕ИуБ┐ |
| `fixed_production_crontab.txt` | final чЙИуБлч╡▒хРИц╕ИуБ┐ |
| `production_crontab_v2.txt`    | final чЙИуБлч╡▒хРИц╕ИуБ┐ |

## ЁЯУЪ **docs/** - уГЙуВнуГеуГбуГ│уГИ

| уГХуВбуВдуГл           | чФищАФ       | шкмцШО                   |
| ------------------ | ---------- | ---------------------- |
| `crontab_guide.md` | хоМхЕиуВмуВдуГЙ | crontab шинхоЪуБошй│ч┤░шкмцШО |

## ЁЯЫая╕П **ф╜┐чФицЦ╣ц│Х**

### уГЖуВ╣уГИшинхоЪуБощБйчФи

```bash
# уГЖуВ╣уГИчФишинхоЪуВТщБйчФи
crontab config/crontab/example/test_crontab.txt

# шинхоЪчв║шкН
crontab -l
```

### цЬмчХкшинхоЪуБощБйчФи

```bash
# ЁЯОп цЬАцЦ░уБоцЬмчХкшинхоЪуВТщБйчФия╝ИцОихеия╝Й
crontab config/crontab/production/production_crontab_final.txt

# уБ╛уБЯуБпуАБуВ╖уГ│уГЬуГкуГГуВпуГкуГ│уВпч╡МчФ▒
crontab current_crontab.txt

# шинхоЪчв║шкН
crontab -l
```

### шинхоЪщБ╕цКЮуВмуВдуГЙ

- **ЁЯОп production_crontab_final.txt**: цЬАцЦ░уГ╗цОихеишинхоЪя╝ИщАЪх╕╕уБпуБУуВМуВТф╜┐чФия╝Й
- **ЁЯУК crontab_with_yahoo_finance.txt**: Yahoo Finance щЗНшжЦуБоха┤хРИ
- **тЪЩя╕П production_crontab.txt**: уВ╖уГ│уГЧуГлуБкхЯ║цЬмшинхоЪ

### шинхоЪуБоуГРуГГуВпуВвуГГуГЧ

```bash
# чП╛хЬиуБошинхоЪуВТуГРуГГуВпуВвуГГуГЧ
crontab -l > config/crontab/backup/crontab_backup_$(date +%Y%m%d_%H%M%S).txt
```

## тЪая╕П **ц│ицДПф║ЛщаЕ**

1. **чТ░хвГхдЙцХ░**: `.env`уГХуВбуВдуГлуБМцнгуБЧуБПшинхоЪуБХуВМуБжуБДуВЛуБУуБиуВТчв║шкН
2. **уГСуВ╣**: уВ╣уВпуГкуГЧуГИуГСуВ╣уБМ`scripts/`уГЗуВгуГмуВпуГИуГкуБлцЫ┤цЦ░уБХуВМуБжуБДуВЛуБУуБиуВТчв║шкН
3. **цийщЩР**: crontab уГХуВбуВдуГлуБиуВ╣уВпуГкуГЧуГИуГХуВбуВдуГлуБохоЯшбМцийщЩРуВТчв║шкН
4. **уГнуВ░**: `/app/logs/`уГЗуВгуГмуВпуГИуГкуБохнШхЬиуБицЫ╕уБНш╛╝уБ┐цийщЩРуВТчв║шкН

## ЁЯФД **уВвуГГуГЧуВ░уГмуГ╝уГЙцЙЛщаЖ**

1. чП╛хЬиуБо crontab шинхоЪуВТуГРуГГуВпуВвуГГуГЧ
2. цЦ░уБЧуБДшинхоЪуГХуВбуВдуГлуВТчв║шкН
3. цо╡щЪОчЪДуБлшинхоЪуВТцЫ┤цЦ░
4. уГнуВ░уБзуБохЛХф╜Ьчв║шкН

## ЁЯУЮ **уГИуГйуГЦуГлуВ╖уГеуГ╝уГЖуВгуГ│уВ░**

- уГнуВ░уГХуВбуВдуГл: `/app/logs/`
- шинхоЪчв║шкН: `crontab -l`
- уГЧуГнуВ╗уВ╣чв║шкН: `ps aux | grep cron`
- уВ╡уГ╝уГУуВ╣хЖНш╡╖хЛХ: `service cron restart`
